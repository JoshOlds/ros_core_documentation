{# Import the theme's layout. #}
{% extends "!layout.html" %}

{# Add a bootstrap glyphicon of a book after all glossary references. #}
{% block extrahead %}
    <script>
        $(document).ready(function() {
            // Put book glyphicons after glossary term links
            $('.std-term').each(function(i, obj) {
                var parent = $(obj).parent();
                if (parent.is("a"))
                {
                    var icon = $('<span class="glyphicon glyphicon-book"></span>');
                    icon.css('font-size', '0.7em').css('padding', '1px');
                    parent.append(icon);
                    parent.css('color', '#536481');
                }
            });
            // Put a globe glyphicon after external links
            $('.external').each(function(i, obj) {
                var icon = $('<span class="glyphicon glyphicon-globe"></span>');
                icon.css('font-size', '0.7em').css('padding', '1px');
                $(obj).append(icon);
            });
            // glossary terms in blockquotes
            $('.glossary').each(function(i, obj) {
                var blockquote = $('<blockquote></blockquote>');
                blockquote.append($(obj).clone());
                $(obj).replaceWith(blockquote);
            });
            // Annotate expandable sections with button and behavior
            $('.html-toggle').each(function(i, obj) {
                obj = $(obj);
                var header = obj.children(':header:first');
                header.click(function() {
                    obj.children().not(':header').toggle(0.25);
                });
                var note = $('<p style="float: right;" class=toggle-msg>[click to toggle]</p>');
                $(header).append(note);
                if (!obj.hasClass('expanded')) {
                    header.click();
                }
            });
        });
    </script>
{% endblock %}

{# Custom CSS overrides #}
{% set bootswatch_css_custom = ['_static/custom.css'] %}
